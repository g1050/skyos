     1                                  ;程序功能:打印字符串,背景色是黑色,前景色是绿色．
     2                                  
     3                                  ;主引导程序
     4                                  ;开机的时候CS:IP寄存器被强制指向0xFFFF0,就是BIOS的入口
     5                                  ;BIOS只有16字节空间,0xFFF0处是一个命令jmp far f000:e05b
     6                                  ;指向0xfe05b就是BIOS真正开始的地方,该处是固件,是刻RAM在上的程序
     7                                  ;BIOS最后一项工作是检查0盘0扇道1扇区的最后512字节处,并将该处的从程序加载到0x7c00处
     8                                  ;jmp 0:ox7c00
     9                                  
    10                                  ;------------------------
    11                                  ;vstart 表示起始地址编译为0x7c00
    12                                  SECTION MBR vstart=0x7c00
    13                                      ;------------------------
    14 00000000 668CC8                      mov ax,cs ;ax = 0
    15 00000003 8ED8                        mov ds,ax ;as = 0
    16 00000005 8EC0                        mov es,ax ;es = 0
    17 00000007 8ED0                        mov ss,ax ;ss = 0
    18 00000009 8EE0                        mov fs,ax ;fs = 0
    19 0000000B 66BC007C                    mov sp,0x7c00 ;栈顶指针移动到0x7c00位置
    20                                  
    21                                      ;------------------------
    22                                      ;清屏
    23 0000000F 66B80006                    mov ax,0x600
    24 00000013 66BB0007                    mov bx,0x700
    25 00000017 66B90000                    mov cx,0
    26 0000001B 66BA4F18                    mov dx,0x184f
    27                                  
    28 0000001F CD10                        int 0x10
    29                                      ;------------------------
    30                                      ;打印前的准备工作
    31 00000021 B403                        mov ah,3
    32 00000023 B700                        mov bh,0
    33                                  
    34 00000025 CD10                        int 0x10
    35                                      ;------------------------
    36                                      ;打印字符
    37 00000027 66B8[3E00]                  mov ax,message
    38 0000002B 6689C5                      mov bp,ax
    39                                  
    40 0000002E 66B90500                    mov cx,5
    41 00000032 66B80113                    mov ax,0x1301
    42 00000036 66BB0200                    mov bx,0x2
    43 0000003A CD10                        int 0x10
    44                                      ;------------------------
    45                                  
    46 0000003C EBFE                        jmp $
    47                                  
    48 0000003E 31204D425220                message db "1 MBR "
    49 00000044 00<rept>                    times 510-($-$$) db 0
    50                                  
    51                                      ;0扇区的最后两个字节存放0x55,0xaa
    52 000001FE 55AA                        db 0x55,0xaa
